Split into modules
Handle anonymous profile/ redirect correctly
Handle eslint gripes
